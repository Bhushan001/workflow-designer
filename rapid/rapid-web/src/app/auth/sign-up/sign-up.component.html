<div class="auth-wrapper">
    <div class="app-header text-center mb-4">
        <h1 class="rapid-brand">
            <i class='bx bx-bolt'></i> <span>Rapid</span>
        </h1>
        <p class="tagline">Fast, Modern & Powerful Web App Platform</p>
    </div>
    <div class="signup-container p-3">
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form p-4 rounded shadow bg-white">

            <div class="row">
                <div class="col-6">
                    <!-- Username -->
                    <div class="mb-3">
                        <label class="form-label">Username</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class='bx bx-user'></i></span>
                            <input type="text" formControlName="username" class="form-control"
                                placeholder="Enter username">
                        </div>
                        <div *ngIf="f.username.touched && f.username.invalid" class="text-danger small mt-1">
                            Username is required and must be at least 4 characters.
                        </div>
                    </div>
                </div>

                <div class="col-6">
                    <div class="mb-3">
                        <label class="form-label">Client</label>
                        <ng-select [items]="clients" bindLabel="clientName" bindValue="clientId"
                            formControlName="clientId" placeholder="Select Client">
                        </ng-select>
                        <div *ngIf="f.clientId.touched && f.clientId.invalid" class="text-danger small mt-1">
                            Client is required.
                        </div>
                    </div>
                </div>
            </div>

            <!-- First & Last Name -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label">First Name</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class='bx bx-user-circle'></i></span>
                        <input type="text" formControlName="firstName" class="form-control" placeholder="First name">
                    </div>
                    <div *ngIf="f.firstName.touched && f.firstName.invalid" class="text-danger small mt-1">
                        First name is required.
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Last Name</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class='bx bx-user-circle'></i></span>
                        <input type="text" formControlName="lastName" class="form-control" placeholder="Last name">
                    </div>
                    <div *ngIf="f.lastName.touched && f.lastName.invalid" class="text-danger small mt-1">
                        Last name is required.
                    </div>
                </div>
            </div>

            <!-- Password & Confirm Password -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label">Password</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class='bx bx-lock'></i></span>
                        <input [type]="showPassword ? 'text' : 'password'" formControlName="password"
                            class="form-control" placeholder="Enter password">
                        <span class="input-group-text" style="cursor: pointer;" (click)="showPassword = !showPassword">
                            <i class='bx' [ngClass]="showPassword ? 'bx-show' : 'bx-hide'"></i>
                        </span>
                    </div>
                    <div *ngIf="f.password.touched && f.password.invalid" class="text-danger small mt-1">
                        Password is required (min 6 characters).
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Confirm Password</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class='bx bx-lock-alt'></i></span>
                        <input [type]="showPassword ? 'text' : 'password'" formControlName="confirmPassword"
                            class="form-control" placeholder="Confirm password">
                    </div>
                    <div *ngIf="(f.confirmPassword.touched || f.password.touched) && signupForm.errors?.['passwordsMismatch']"
                        class="text-danger small mt-1">
                        Passwords do not match.
                    </div>
                </div>
            </div>

            <!-- Birth Date & Country -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label">Birth Date</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class='bx bx-calendar'></i></span>
                        <input type="date" formControlName="birthDate" class="form-control">
                    </div>
                    <div *ngIf="f.birthDate.touched && f.birthDate.invalid" class="text-danger small mt-1">
                        Birth date is required.
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Country</label>
                    <div class="input-group">
                        <span class="input-group-text"><i class='bx bx-world'></i></span>
                        <input type="text" formControlName="country" class="form-control" placeholder="Country">
                    </div>
                    <div *ngIf="f.country.touched && f.country.invalid" class="text-danger small mt-1">
                        Country is required.
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="text-center">
                <button type="submit" class="btn btn-primary px-4 signup-btn" [disabled]="signupForm.invalid">
                    <i class='bx bx-user-plus'></i> Sign Up
                </button>
            </div>
        </form>
    </div>
</div>